@startuml
title Multi-Zone Detection System - Components

package "File Organization" {
  folder "data/" {
    folder "inputs/" as car_in
    folder "grid_photos/" as grid_in
  }
  
  folder "test/" {
    folder "parking_grind/" as config_dir
    folder "results/" as results_dir
  }
}

package "Core Components" {
  component "main.py" as main_comp {
    rectangle "Detection Mode" as det_mode
    rectangle "Editor Mode" as edit_mode
  }
  
  component "edit_parking_zones.py" as editor_comp {
    rectangle "Zone Editor" as editor_ui
    rectangle "Zone Types (P/T/N/D)" as zone_types
    rectangle "Save Tracking" as save_track
  }
  
  component "parking_utils.py" as utils_comp {
    rectangle "Zone Loader" as zone_loader
    rectangle "Geometry Functions" as geometry
  }
  
  component "vehicle_detector.py" as detector_comp {
    rectangle "YOLO Detection" as yolo_proc
    rectangle "Zone Analysis" as zone_analysis
    rectangle "Result Logger" as logger
  }
}

package "Data Processing" {
  rectangle "Multi-Zone Support" as multi_zone
  rectangle "Vehicle Classification" as classification
  rectangle "Output Generation" as output_gen
}

' File connections
grid_in --> editor_ui : reference images
car_in --> yolo_proc : detection images
config_dir --> zone_loader : zone configuration
results_dir --> logger : save results

' Component interactions
main_comp --> editor_comp : editor mode
main_comp --> detector_comp : detection mode
editor_comp --> utils_comp : zone operations
detector_comp --> utils_comp : load zones

' Processing flow
zone_loader --> geometry : zone data
yolo_proc --> zone_analysis : detection results
zone_analysis --> classification : categorize vehicles
classification --> output_gen : generate results
output_gen --> logger : save outputs

@enduml